# FixedRAG evaluation on Natural Questions
# Uses Simple English Wikipedia for retrieval

name: "fixed_rag_nq_v1"
output_dir: "experiments/fixed_rag_nq_v1"

corpus:
  name: "wikipedia_simple"
  source: "wikimedia/wikipedia"
  version: "20231101.simple"
  max_docs: 10000  # Remove for full corpus
  metadata:
    min_chars: 100  # Minimum article length

retriever:
  type: "dense"
  embedding_model: "all-MiniLM-L6-v2"
  top_k: 3  # Reduced for memory efficiency
  index_type: "flat"

model:
  name: "google/gemma-2-2b-it"
  load_in_8bit: true  # Memory efficient
  device: "cuda"
  max_new_tokens: 256
  temperature: 0.1

evaluation:
  dataset: "natural_questions"
  split: "validation"
  num_examples: 100
  filter_no_answer: true
  metrics:
    - "exact_match"
    - "f1"

metadata:
  description: "Baseline FixedRAG evaluation on NQ with Simple Wikipedia"
  tags:
    - "baseline"
    - "fixed_rag"
    - "nq"

